{% block create %}
    {% set slug = entity.request.tech.slug|default("") %}

    <turbo-stream action="update" target="tech-{{ slug }}-vote-count">
        <template>
            {{ entity.request.voteCount|default(0) }}
        </template>
    </turbo-stream>

    {% if entity.request.tech|default(false) %}
        <turbo-stream action="replace" target="tech-{{ slug }}-status">
            <template>
                {% include "tech/_status.html.twig" with { tech: entity.request.tech } only %}
            </template>
        </turbo-stream>
    {% endif %}
{% endblock %}

{% block update %}
    {% set slug = entity.request.tech.slug|default("") %}

    <turbo-stream action="update" target="tech-{{ slug }}-vote-count">
        <template>
            {{ entity.request.voteCount|default(0) }}
        </template>
    </turbo-stream>

    {% if entity.request.tech|default(false) %}
        <turbo-stream action="replace" target="tech-{{ slug }}-status">
            <template>
                {% include "tech/_status.html.twig" with { tech: entity.request.tech } only %}
            </template>
        </turbo-stream>
    {% endif %}
{% endblock %}

{% block remove %}
    {% set slug = entity.request.tech.slug|default("") %}

    <turbo-stream action="update" target="tech-{{ slug }}-vote-count">
        <template>
            {{ entity.request.voteCount|default(0) }}
        </template>
    </turbo-stream>

    {% if entity.request.tech|default(false) %}
        <turbo-stream action="replace" target="tech-{{ slug }}-status">
            <template>
                {% include "tech/_status.html.twig" with { tech: entity.request.tech } only %}
            </template>
        </turbo-stream>
    {% endif %}
{% endblock %}
